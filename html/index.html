<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="My Personal Web"><!--网页描述-->
    <meta name="keywords" content="HTML,CSS,JavaScript"><!--关键词-->
    <meta name="author" content="DrGilbert"><!--作者-->
    <title>My Page</title>
    <script src="../js/index.js" type="text/javascript"></script>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/index.css" media="all"/>
</head>
<body class="body" onload="onload()">
<!--搜索框主体+图片-->
<div class="search" name="search">
    <!--    搜索框LOGO-->
    <img class="search_image" src="../image/ui/logo1.jpg" alt="图片显示失败!">
    <!--    搜索框背景-->
    <div class="search_background"></div>
    <form name="search_form" action="" onsubmit="search()" method="get">
        <!--        搜索类型列表-->
        <select class="search_select" name="search_select">
            <option value="google">Google</option>
            <option value="baidu" selected>百度</option>
            <option value="google_trans">谷歌翻译</option>
            <option value="baidu_trans">百度翻译</option>
            <option value="github">Github</option>
        </select>
        <!--        搜索框-->
        <input id="keyword" class="search_keyword" name="keyword" autocomplete="off" spellcheck="false" type="text"
               placeholder="在这里搜索"/>
    </form>
</div>
<!--跳转对应的网页-->
<script>
    function search() {
        let value = document.forms["search_form"]["search_select"].value;
        let keyword = document.forms["search_form"]["keyword"].value;
        if (keyword !== "") {
            console.log("value=" + value);
            console.log("keyword=" + keyword);
            window.event.returnValue = false;
            switch (value) {
                case "google": {
                    window.location.href = "https://www.google.com/search?q=" + keyword;
                    break;
                }
                case "baidu": {
                    window.location.href = "https://www.baidu.com/s?wd=" + keyword;
                    break;
                }
                case "google_trans": {
                    window.location.href = "https://translate.google.com/#view=home&op=translate&sl=en&tl=zh-CN&text=" + keyword;
                    break;
                }
                case "baidu_trans": {
                    window.location.href = "https://fanyi.baidu.com/#en/zh/" + keyword;
                    break;
                }
                case "github": {
                    window.location.href = "https://github.com/search?q=" + keyword;
                    break;
                }
                default: {
                    alert("表单信息错误!");
                    break;
                }
            }
        }
    }
</script>
<div>
    <button onclick="window.location.href='options.html'" class="setting_button">设置</button>
</div>
<div>
    <button class="user_button">用户</button>
</div>
<!--收藏夹-->
<div class="bookmark">
    <script>
        document.write("<table cellspacing='15' class='bookmark_table'>")
        let bookMarkList = getBookMarkList()
        for (let rowIndex = 0; rowIndex < bookMarkList.length / 2; rowIndex++) {
            document.write("<tr>")
            for (let colsIndex = 0; colsIndex + rowIndex * 2 < bookMarkList.length && colsIndex <= 1; colsIndex++) {
                let index = colsIndex + rowIndex * 2
                document.write("<td class='bookmark_item' onclick='window.open(\"http://" + bookMarkList[index].url + "\")'>")
                document.write("<div>")
                document.write("<img class='bookmark_img' src='" + bookMarkList[index].img + "' alt='图片加载失败!'>")
                document.write("<div class='bookmark_nick'>")
                document.write(bookMarkList[index].nick)
                document.write("</div>")
                document.write("</div>")
                document.write("<td>")
            }
            document.write("</tr>")
        }
        document.write("</table>")
    </script>
</div>
</body>
</html>